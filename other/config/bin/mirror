#!/bin/sh

m="debmirror --no-check-gpg --ignore-small-errors --allow-dist-rename"
m_dir=/big_files/travmaturg/mirror


# debian

dst=$m_dir/debian

echo "update started " `date` >> $dst/last_update.txt

mkdir -p $dst/debian
$m --root=debian --dist="testing,testing-updates,sid" --section="main,contrib,non-free" $dst/debian
sync --file-system $dst

mkdir -p $dst/debian-security
$m --root=debian-security --dist="testing/updates" --section="main,contrib,non-free" $dst/debian-security
sync --file-system $dst

mkdir -p $dst/debian-multimedia
$m --root=debian-multimedia --dist="testing,sid" --section="main,contrib,non-free" $dst/debian-multimedia
sync --file-system $dst

echo "update done " `date` > $dst/last_update.txt


# ubuntu

dst=$m_dir/ubuntu

echo "update started " `date` >> $dst/last_update.txt

mkdir -p $dst/ubuntu
$m --root=ubuntu --dist="zesty,zesty-updates,zesty-security,artful,artful-updates,artful-security" --section="main,restricted,universe,multiverse" $dst/ubuntu
sync --file-system $dst

echo "update done " `date` > $dst/last_update.txt


