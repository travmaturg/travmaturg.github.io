#!/bin/sh

m="debmirror --no-check-gpg --ignore-small-errors --allow-dist-rename"
m_dir=/big_files/travmaturg/mirror

sync


# debian

dst=$m_dir/debian

echo "update started " `date` >> $dst/last_update.txt

mkdir -p $dst/debian
$m --root=debian --dist="testing,sid" --section="main,contrib,non-free" $dst/debian
sync --file-system $dst

mkdir -p $dst/debian-multimedia
$m --root=debian-multimedia --dist="testing,sid" --section="main,contrib,non-free" $dst/debian-multimedia
sync --file-system $dst

echo "update done " `date` > $dst/last_update.txt


# ubuntu

dst=$m_dir/ubuntu

echo "update started " `date` >> $dst/last_update.txt

mkdir -p $dst/ubuntu
$m --root=ubuntu --dist="cosmic,cosmic-updates,cosmic-security" --section="main,restricted,universe,multiverse" $dst/ubuntu
sync --file-system $dst

echo "update done " `date` > $dst/last_update.txt


